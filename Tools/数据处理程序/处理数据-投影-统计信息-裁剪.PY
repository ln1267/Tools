# ---------------------------------------------------------------------------
# 生成气象数据――――――――arcgis9.3
# Created on: 星期五 十二月 09 2011 11:27:55 上午
#   (generated by ArcGIS/ModelBuilder)
# ---------------------------------------------------------------------------

# Import arcpy module
import arcpy

#循环开始
for n in xrange(2000,2001):
	for m in xrange(4,13):
		m="%02d" % m		#转换为两位日期
# Local variables:	
		
		data_class="TEM"							#待处理的气象数据类型
		
	
##########################-----公用目录---------##############################################		
		input_dir="C:\\2000\\T\\"		#气象数据所在的目录
		output_dir="C:\\2000\\T\\grd\\"			#转换生成的栅格所在的目录
################################################################################		
		
#######################---转换后的每个流域结果的输出目录------#################################
		
		input_name=data_class+str(n)+m+".flt"
		output_name=data_class+str(n)+m+".tif"
######################-----待预处理的气象数据文件------##############################################		
		input_file = input_dir+input_name							#输入气象数据
		input_file1 = input_dir+output_name
		output_file = output_dir+output_name				#处理后的气象数据
		basin_clip="E:\\HUC\\basins\\basin_union_buffer.shp"
################################################################################
		
		
		print input_file,output_file
# Process: 浮点型转栅格
		arcpy.FloatToRaster_conversion(input_file, input_file1)
		print "成功浮点型转栅格！"
		
# Process: 定义投影
		arcpy.gp.DefineProjection(FloatTo_flt1, "GEOGCS['GCS_WGS_1984',DATUM['D_WGS_1984',SPHEROID['WGS_1984',6378137.0,298.257223563]],PRIMEM['Greenwich',0.0],UNIT['Degree',0.0174532925199433]]")
		print "成功添加投影！"

# Process: 计算统计数据
		arcpy.gp.CalculateStatistics(input_file, "1", "1", "")
		print "成功计算栅格统计信息！"

# Process: 裁剪
		arcpy.Clip_management(input_file, "98.7844111512537 30.2973834933537 103.966011502829 33.6688777593014", output_file, basin_clip, "", "ClippingGeometry")
		print "成功按研究区裁剪数据！"
