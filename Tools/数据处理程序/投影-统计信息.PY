# ---------------------------------------------------------------------------
# 生成气象数据――――――――arcgis9.3
# Created on: 星期五 十二月 09 2011 11:27:55 上午
#   (generated by ArcGIS/ModelBuilder)
# ---------------------------------------------------------------------------

# Import arcpy module
import arcpy
arcpy.CheckOutExtension("spatial")

#循环开始
for n in xrange(2000,2001):
	for m in xrange(1,13):
		m="%02d" % m		#转换为两位日期
# Local variables:	
		
		data_class="et"							#待处理的气象数据类型
		
	
##########################-----公用目录---------##############################################		
		input_dir="E:\\et\\"		#气象数据所在的目录
		output_dir="E:\\et\\et\\"			#转换生成的栅格所在的目录
################################################################################		
		
#######################---转换后的每个流域结果的输出目录------#################################
		
		input_name=data_class+str(n)+m+".tif"
		output_name=data_class+str(n)+m+".tif"
######################-----待预处理的气象数据文件------##############################################		
		input_file = input_dir+input_name							#输入气象数据
		input_file1 = input_dir+output_name
		output_file = output_dir+output_name				#处理后的气象数据
		basin_clip="E:\\HUC\\basins\\basin_union_buffer.shp"
################################################################################
		
		
		print input_file,output_file
		
# Process: 定义投影
		print "成功添加投影！"
		arcpy.DefineProjection_management(input_file, "PROJCS['Albers',GEOGCS['GCS_WGS_1984',DATUM['D_WGS_1984',SPHEROID['WGS_1984',6378137.0,298.257223563]],PRIMEM['Greenwich',0.0],UNIT['Degree',0.0174532925199433]],PROJECTION['Albers'],PARAMETER['False_Easting',0.0],PARAMETER['False_Northing',0.0],PARAMETER['Central_Meridian',105.0],PARAMETER['Standard_Parallel_1',25.0],PARAMETER['Standard_Parallel_2',47.0],PARAMETER['Latitude_Of_Origin',0.0],UNIT['Meter',1.0]]")

		# Process: 计算统计数据
		arcpy.gp.CalculateStatistics(input_file, "1", "1", "")
		print "成功计算栅格统计信息！"
		
# Process: 设为空函数
		arcpy.gp.SetNull_sa(input_file, input_file, output_file, "value > 10000")


